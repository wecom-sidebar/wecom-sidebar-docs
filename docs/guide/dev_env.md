# æœ¬åœ°å¼€å‘

åˆšåˆšå·²ç»æŠŠé¡¹ç›®å¯åŠ¨äº†ï¼Œå‰ç«¯åœ¨ 3000 ç«¯å£ï¼Œåç«¯åœ¨ 5000 ç«¯å£ã€‚

ä¾§è¾¹æ å¼€å‘æœ€éš¾çš„è«è¿‡äºé…ç½®æœ¬åœ°å¼€å‘ç¯å¢ƒäº†ï¼Œä¸‹é¢å°±èŠèŠæ€ä¹ˆæ­å»ºæœ¬åœ°å¼€å‘ç¯å¢ƒã€‚

## æ€ä¹ˆæŠŠä¾§è¾¹æ æ˜ å°„åˆ°æœ¬åœ°

ã€Šé…ç½®ä¾§è¾¹æ ã€‹è¿™ä¸€æ­¥ç»™ä¾§è¾¹æ é…ç½®äº† [https://www.baidu.com](https://www.baidu.com)ã€‚
å‡è®¾è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬è¦ç”¨çš„åŸŸåï¼Œæ€ä¹ˆæŠŠä¾§è¾¹æ æ˜ å°„åˆ°æœ¬åœ°å‘¢ï¼Ÿ

ç¿»äº†å¾ˆå¤šç½‘ä¸Šçš„èµ„æ–™ï¼ŒåŸºæœ¬éƒ½æ˜¯æ”¹ hosts æ–‡ä»¶æ¥è®© https://www.baidu.com æ‰“åˆ° localhost:3000 çš„ã€‚
æ€ä¹ˆè¯´å‘¢ï¼Œæ„Ÿè§‰ä¸Šå°±å¾ˆä¸"æœ¬åœ°"ï¼Œå› ä¸ºä¼šæœ‰ä¸€ä¸ª"å“å‘€ï¼Œæˆ‘æ”¹äº†æœ¬åœ° hosts æ–‡ä»¶ï¼Œç­‰å¼€å‘å®Œäº†è¦å†æ”¹å›å»"çš„å¿ƒç†è´Ÿæ‹…ï¼Œä¸æ˜¯å¾ˆçµæ´»ã€‚

æˆ‘ä»¬åªæƒ³åšä¸ªä»£ç†ã€æˆ–è€…è½¬å‘å‘€ã€‚

## Whistle ç®€ä»‹

è¿™é‡Œå°±ä¸å¾—ä¸å®‰åˆ©ä¸€æ³¢æˆ‘ä»¬ IMWeb å‡ºå“çš„ Whistle å•¦ï¼Œwhistle(è¯»éŸ³[ËˆwÉªsÉ™l]ï¼Œæ‹¼éŸ³[wÄ“isÇ’u])ï¼Œæ˜¯åŸºäºNodeå®ç°çš„è·¨å¹³å°webè°ƒè¯•ä»£ç†å·¥å…·ã€‚

Whistle åŠŸèƒ½æœ‰éå¸¸çš„å¤šï¼Œä¸‹é¢æˆ‘åªåˆ—ä¸¾å¼€å‘ä¾§è¾¹æ å¸¸ç”¨çš„é…ç½®é¡¹ï¼Œæ›´å¤šå¥½ç©çš„å¯ä»¥è§ [Whistle å®˜ç½‘](https://wproxy.org/whistle/)ã€‚

ç°åœ¨æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æŠŠä¼ä¸šå¾®ä¿¡çš„ baidu.com é€šè¿‡ whistle ä»£ç†ï¼Œåœ¨ whistle ä¸Šè®¾ç½®ä»£ç†è§„åˆ™ï¼ŒæŠŠ baidu.com ä»£ç†åˆ°æœ¬åœ° localhost å³å¯ã€‚

## æœ¬æœºå…¨å±€ä»£ç†

é¦–å…ˆå…ˆå®‰è£… Whistle

```shell
# å®‰è£…
npm install -g whistle

# å¼€å¯ Whistle
w2 start
```

æ‰“å¼€ [http://127.0.0.1:8899/](http://127.0.0.1:8899/) å¯è§ Whistle ä»£ç†é¢æ¿ã€‚

![](./images/whistle.png)

ä¸‹é¢è¦æŠŠæœ¬æœºçš„è¯·æ±‚éƒ½ç”¨ Whistle æ¥åšä»£ç†ï¼š

**System Preferences > Network > Advanced > Proxies > HTTP or HTTPS**

![](./images/mac-proxy-1.jpg)
![](./images/mac-proxy-2.jpg)

è¿™é‡Œæœ€å¥½ Web Proxy(HTTP) å’Œ Secure WebProxy(HTTPS) éƒ½ç”¨ 127.0.0.1:8899 åšä»£ç†ã€‚

åˆ°äº†è¿™ä¸€æ­¥ï¼Œ

## æ·»åŠ è§„åˆ™

åŠ å…¥è§„åˆ™ï¼š

```
# æŠŠ baidu.com æ˜ å°„åˆ°æœ¬åœ° 3000 ç«¯å£
//www.baidu.com http://127.0.0.1:3000
```

![](./images/whistle_rules.png)

é‡å¯ä¼ä¸šå¾®ä¿¡ï¼ˆä¼šæœ‰ç¼“å­˜ï¼‰ï¼Œæ‰“å¼€ä¾§è¾¹æ ã€‚

![](./images/whistle_result.png)

æ­å–œä½ ï¼å·²ç»æˆåŠŸæ­å»ºå¥½äº†æœ¬åœ°ç¯å¢ƒäº†ğŸ‘
